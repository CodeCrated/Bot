proxies:
proxy-groups:
  - name: Clash
    type: select
    use:
      - Service
      - Clash1
      - Clash2
      - Clash3
      - Clash4
    proxies:
      - Otomatis 
      - DIRECT
  - name: Otomatis
    type: fallback
    disable-udp: false
    use:
      - Service
      - Clash1
      - Clash2
      - Clash3
      - Clash4
    url: http://www.gstatic.com/generate_204
    interval: '600'
  - name: BlockAds
    type: select
    proxies:
      - Otomatis
      - REJECT
proxy-providers:
  Service: 
     type: http 
     path: ./service.yaml 
     health-check: 
     enable: true 
     url: "https://toppayofficial.vercel.app/page/user/service/service.yaml"
     interval: 1200
  Clash1:
    type: http
    path: ./clash1.yaml
    health-check:
    enable: true
    url: "https://toppayofficial.vercel.app/page/user/clash/sg1.yaml"
    interval: 1200
  Clash2:
    type: http
    path: ./clash2.yaml
    health-check:
    enable: true
    url: "https://toppayofficial.vercel.app/page/user/clash/sg2.yaml"
    interval: 1200
  Clash3:
    type: http
    path: ./clash3.yaml
    health-check:
    enable: true
    url: "https://toppayofficial.vercel.app/page/user/clash/sg3.yaml"
    interval: 1200
  Clash4:
    type: http
    path: ./clash4.yaml
    health-check:
    enable: true
    url: "https://toppayofficial.vercel.app/page/user/clash/sg4.yaml"
    interval: 1200

port: 7890
socks-port: 7891
redir-port: 7892
mixed-port: 7893
tproxy-port: 7895
ipv6: false
mode: rule
log-level: info 
allow-lan: true
external-controller: 0.0.0.0:9090
secret: ""
bind-address: "*"
unified-delay: true
profile:
  store-selected: true
dns:
  enable: true
  ipv6: false
  enhanced-mode: redir-host
  listen: 0.0.0.0:7874
  nameserver:
    - 8.8.8.8
    - 1.0.0.1
    - https://dns.google/dns-query
  fallback:
    - 1.1.1.1
    - 8.8.4.4
    - https://cloudflare-dns.com/dns-query
    - 112.215.203.254
  default-nameserver:
    - 8.8.8.8
    - 1.1.1.1
    - 112.215.203.254
rules:
- IP-CIDR,198.18.0.1/16,REJECT,no-resolve
- PROCESS-NAME,v2ray,DIRECT
- PROCESS-NAME,xray,DIRECT
- PROCESS-NAME,naive,DIRECT
- PROCESS-NAME,trojan,DIRECT
- PROCESS-NAME,trojan-go,DIRECT
- PROCESS-NAME,ss-local,DIRECT
- PROCESS-NAME,privoxy,DIRECT
- PROCESS-NAME,leaf,DIRECT
- PROCESS-NAME,v2ray.exe,DIRECT
- PROCESS-NAME,xray.exe,DIRECT
- PROCESS-NAME,naive.exe,DIRECT
- PROCESS-NAME,trojan.exe,DIRECT
- PROCESS-NAME,trojan-go.exe,DIRECT
- PROCESS-NAME,ss-local.exe,DIRECT
- PROCESS-NAME,privoxy.exe,DIRECT
- DST-PORT,22,DIRECT,no-resolve
- RULE-SET,rule_porn,REJECT
- RULE-SET,rule_BlockAds,BlockAds
- RULE-SET,rule_reject,BlockAds
- RULE-SET,rule_privacy,REJECT
- RULE-SET,rule_nsfw,Clash
- RULE-SET,rule_lancidr,DIRECT,no-resolve
- MATCH,Clash

rule-providers:
  rule_BlockAds:
    type: http
    behavior: classical
    path: "./rule_BlockAds.yaml"
    url: https://easylist.to/easylist/easylist.txt
    interval: 86400
  rule_reject:
    type: http
    behavior: domain
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: "./rule_reject.yaml"
    interval: 86400
  rule_privacy:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Privacy/Privacy_Classical.yaml
    path: "./rule_privacy.yaml"
    interval: 86400
  rule_porn:
    type: http
    behavior: domain
    url: https://rules.kr328.app/category-porn.yaml
    path: "./rule_porn.yaml"
    interval: 86400
  rule_nsfw:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/malikshi/clash_for_android/main/rule_provider/rule_nsfw.yaml
    path: "./rule_nsfw.yaml"
    interval: 86400
  rule_lancidr:
    type: http
    behavior: ipcidr
    url: https://cdn.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt
    path: "./rule_lancidr.yaml"
    interval: 86400

